extern /totality_limit:TOTALITY
extern /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/analysis/jgfs_atmos_analysis:release_fcst
extern /cycled_v16_3/primary/00/gfs/v16.3/gdas/atmos/post/jgdas_atmos_post_manager:release_post003
extern /cycled_v16_3/primary/00/gfs/v16.3/gdas/atmos/post/jgdas_atmos_post_manager:release_post006
extern /cycled_v16_3/primary/00/gfs/v16.3/gdas/atmos/post/jgdas_atmos_post_manager:release_post009
extern /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post000
extern /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post126

suite nco_hafs
  inlimit /totality_limit:TOTALITY
  family primary
    edit hafs_ver 'v1.0.0'
    edit PACKAGEHOME '/lfs/h2/emc/global/noscrub/%EMC_USER%/para/packages/hafs.%hafs_ver%'
    edit NET 'hafs'
    edit PROJ 'HAFS'
    edit PROJENVIR 'DEV'
    edit MACHINE_SITE 'development'
    edit ENVIR 'prod'
    edit QUEUE 'dev'
    edit QUEUE_ARCH 'dev_transfer'
    edit OUTPUTDIR '/lfs/h2/emc/ptmp/%EMC_USER%/hafs.%hafs_ver%/para/com/output/%ENVIR%/today'    
    family 00
      edit CYC '00'
      family hafs
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          task jhafs_alert
            defstatus complete
            trigger :TIME >= 0250 and :TIME < 0850
          family hfsa
            edit RUN 'hfsa'
            family storm1
              edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
              edit STORMNUM '1'
              task jhafs_cleanup
                defstatus complete
#               trigger :TIME >= 0300 and :TIME < 0900
              family launch
                task jhafs_launch
#                 trigger ../jhafs_cleanup==complete
                  trigger :TIME >= 0315 and :TIME < 0915 and ../jhafs_cleanup==complete and /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post000
                  label storm1 ""
                  event 1 NoStorm
                  event 2 Ocean
                  event 3 Wave
                  event 4 Analysis
              endfamily
              family prep
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_prep
                  trigger ../launch/jhafs_launch==complete
                task jhafs_atm_prep_mvnest
                  trigger ../launch/jhafs_launch==complete
                task jhafs_obs_prep
                  trigger ../init==complete
                task jhafs_ocn_prep
                  trigger ./jhafs_atm_prep==complete
                  #### trigger /prod/primary/00/rtofs/v2.3/jrtofs_global_analysis==complete
                task jhafs_wav_prep
                  trigger ./jhafs_atm_prep==complete
              endfamily
              family init
                complete ./launch/jhafs_launch:NoStorm
                trigger ./prep/jhafs_atm_prep==complete
                task jhafs_atm_ic
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                task jhafs_atm_ic_fgat03
                  edit RI_EXT '_fgat03'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '03'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat06
                  edit RI_EXT '_fgat06'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '06'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat09
                  edit RI_EXT '_fgat09'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '09'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_lbc
                task jhafs_atm_init
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                  trigger ./jhafs_atm_ic==complete
                task jhafs_atm_init_fgat03
                  edit RI_EXT '_fgat03'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '03'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat03==complete
                task jhafs_atm_init_fgat06
                  edit RI_EXT '_fgat06'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '06'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat06==complete
                task jhafs_atm_init_fgat09
                  edit RI_EXT '_fgat09'
                  edit FGAT_MODEL 'gdas'
                  edit FGAT_HR '09'
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat09==complete
                task jhafs_atm_vi
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                  trigger ./jhafs_atm_init==complete
                task jhafs_atm_vi_fgat03
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat03==complete
                task jhafs_atm_vi_fgat06
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat06==complete
                task jhafs_atm_vi_fgat09
                  edit RI_EXT ''
                  edit FGAT_MODEL ''
                  edit FGAT_HR ''
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat09==complete
              endfamily
              family analysis
                complete ./launch/jhafs_launch==complete and ./launch/jhafs_launch:Analysis==clear
                task jhafs_analysis
                  trigger ../init/jhafs_atm_vi==complete and ../init/jhafs_atm_vi_fgat03==complete and ../init/jhafs_atm_vi_fgat06==complete and ../init/jhafs_atm_vi_fgat09==complete and ../prep/jhafs_obs_prep==complete and ../launch/jhafs_launch:Analysis
                task jhafs_analysis_merge
                  trigger ./jhafs_analysis==complete
              endfamily
              family forecast 
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_forecast
                  trigger ../prep==complete and ../init==complete and ../analysis==complete
              endfamily
              family post
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_ocn_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_wav_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_product
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
                  event 1 SentTrackToNHC
                task jhafs_gempak
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
              endfamily
            endfamily
          endfamily
        endfamily
      endfamily          # hafs
    endfamily            # family 00
    family 06
      edit CYC '06'
      family hafs
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          task jhafs_alert
            defstatus complete
            trigger :TIME >= 0250 and :TIME < 0850
          family hfsa
            edit RUN 'hfsa'
            family storm1
              edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
              edit STORMNUM '1'
              task jhafs_cleanup
                defstatus complete
#               trigger :TIME >= 0300 and :TIME < 0900
              family launch
                task jhafs_launch
#                 trigger ../jhafs_cleanup==complete
                  trigger :TIME >= 0315 and :TIME < 0915 and ../jhafs_cleanup==complete and /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post000
                  label storm1 ""
                  event 1 NoStorm
                  event 2 Ocean
                  event 3 Wave
                  event 4 Analysis
              endfamily
              family prep
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_prep
                  trigger ../launch/jhafs_launch==complete
                task jhafs_atm_prep_mvnest
                  trigger ../launch/jhafs_launch==complete
                task jhafs_obs_prep
                  trigger ../init==complete
                task jhafs_ocn_prep
                  trigger ./jhafs_atm_prep==complete
                  #### trigger /prod/primary/00/rtofs/v2.3/jrtofs_global_analysis==complete
                task jhafs_wav_prep
                  trigger ./jhafs_atm_prep==complete
              endfamily
              family init
                complete ./launch/jhafs_launch:NoStorm
                trigger ./prep/jhafs_atm_prep==complete
                task jhafs_atm_ic
                task jhafs_atm_ic_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_lbc
                task jhafs_atm_init
                  trigger ./jhafs_atm_ic==complete
                task jhafs_atm_init_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat03==complete
                task jhafs_atm_init_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat06==complete
                task jhafs_atm_init_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat09==complete
                task jhafs_atm_vi
                  trigger ./jhafs_atm_init==complete
                task jhafs_atm_vi_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat03==complete
                task jhafs_atm_vi_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat06==complete
                task jhafs_atm_vi_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat09==complete
              endfamily
              family analysis
                complete ./launch/jhafs_launch==complete and ./launch/jhafs_launch:Analysis==clear
                task jhafs_analysis
                  trigger ../init/jhafs_atm_vi==complete and ../init/jhafs_atm_vi_fgat03==complete and ../init/jhafs_atm_vi_fgat06==complete and ../init/jhafs_atm_vi_fgat09==complete and ../prep/jhafs_obs_prep==complete and ../launch/jhafs_launch:Analysis
                task jhafs_analysis_merge
                  trigger ./jhafs_analysis==complete
              endfamily
              family forecast
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_forecast
                  trigger ../prep==complete and ../init==complete and ../analysis==complete
              endfamily
              family post
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_ocn_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_wav_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_product
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
                  event 1 SentTrackToNHC
                task jhafs_gempak
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
              endfamily 
            endfamily
          endfamily
        endfamily 
      endfamily          # hafs
    endfamily            # family 06
    family 12
      edit CYC '12'
      family hafs
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          task jhafs_alert
            defstatus complete
            trigger :TIME >= 0250 and :TIME < 0850
          family hfsa
            edit RUN 'hfsa'
            family storm1
              edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
              edit STORMNUM '1'
              task jhafs_cleanup
                defstatus complete
#               trigger :TIME >= 0300 and :TIME < 0900
              family launch
                task jhafs_launch
#                 trigger ../jhafs_cleanup==complete
                  trigger :TIME >= 0315 and :TIME < 0915 and ../jhafs_cleanup==complete and /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post000
                  label storm1 ""
                  event 1 NoStorm
                  event 2 Ocean
                  event 3 Wave
                  event 4 Analysis
              endfamily
              family prep
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_prep
                  trigger ../launch/jhafs_launch==complete
                task jhafs_atm_prep_mvnest
                  trigger ../launch/jhafs_launch==complete
                task jhafs_obs_prep
                  trigger ../init==complete
                task jhafs_ocn_prep
                  trigger ./jhafs_atm_prep==complete
                  #### trigger /prod/primary/00/rtofs/v2.3/jrtofs_global_analysis==complete
                task jhafs_wav_prep
                  trigger ./jhafs_atm_prep==complete
              endfamily
              family init
                complete ./launch/jhafs_launch:NoStorm
                trigger ./prep/jhafs_atm_prep==complete
                task jhafs_atm_ic
                task jhafs_atm_ic_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_lbc
                task jhafs_atm_init
                  trigger ./jhafs_atm_ic==complete
                task jhafs_atm_init_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat03==complete
                task jhafs_atm_init_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat06==complete
                task jhafs_atm_init_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat09==complete
                task jhafs_atm_vi
                  trigger ./jhafs_atm_init==complete
                task jhafs_atm_vi_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat03==complete
                task jhafs_atm_vi_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat06==complete
                task jhafs_atm_vi_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat09==complete
              endfamily
              family analysis
                complete ./launch/jhafs_launch==complete and ./launch/jhafs_launch:Analysis==clear
                task jhafs_analysis
                  trigger ../init/jhafs_atm_vi==complete and ../init/jhafs_atm_vi_fgat03==complete and ../init/jhafs_atm_vi_fgat06==complete and ../init/jhafs_atm_vi_fgat09==complete and ../prep/jhafs_obs_prep==complete and ../launch/jhafs_launch:Analysis
                task jhafs_analysis_merge
                  trigger ./jhafs_analysis==complete
              endfamily
              family forecast
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_forecast
                  trigger ../prep==complete and ../init==complete and ../analysis==complete
              endfamily
              family post
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_ocn_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_wav_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_product
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
                  event 1 SentTrackToNHC
                task jhafs_gempak
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
              endfamily 
            endfamily
          endfamily
        endfamily 
      endfamily          # hafs
    endfamily            # family 12
    family 18
      edit CYC '18'
      family hafs
        family v1.0
          edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
          task jhafs_alert
            defstatus complete
            trigger :TIME >= 0250 and :TIME < 0850
          family hfsa
            edit RUN 'hfsa'
            family storm1
              edit ECF_FILES '%PACKAGEHOME%/ecf/scripts'
              edit STORMNUM '1'
              task jhafs_cleanup
                defstatus complete
#               trigger :TIME >= 0300 and :TIME < 0900
              family launch
                task jhafs_launch
#                 trigger ../jhafs_cleanup==complete
                  trigger :TIME >= 0315 and :TIME < 0915 and ../jhafs_cleanup==complete and /cycled_v16_3/primary/00/gfs/v16.3/gfs/atmos/post/jgfs_atmos_post_manager:release_post000
                  label storm1 ""
                  event 1 NoStorm
                  event 2 Ocean
                  event 3 Wave
                  event 4 Analysis
              endfamily
              family prep
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_prep
                  trigger ../launch/jhafs_launch==complete
                task jhafs_atm_prep_mvnest
                  trigger ../launch/jhafs_launch==complete
                task jhafs_obs_prep
                  trigger ../init==complete
                task jhafs_ocn_prep
                  trigger ./jhafs_atm_prep==complete
                  #### trigger /prod/primary/00/rtofs/v2.3/jrtofs_global_analysis==complete
                task jhafs_wav_prep
                  trigger ./jhafs_atm_prep==complete
              endfamily
              family init
                complete ./launch/jhafs_launch:NoStorm
                trigger ./prep/jhafs_atm_prep==complete
                task jhafs_atm_ic
                task jhafs_atm_ic_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_ic_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                task jhafs_atm_lbc
                task jhafs_atm_init
                  trigger ./jhafs_atm_ic==complete
                task jhafs_atm_init_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat03==complete
                task jhafs_atm_init_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat06==complete
                task jhafs_atm_init_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_ic_fgat09==complete
                task jhafs_atm_vi
                  trigger ./jhafs_atm_init==complete
                task jhafs_atm_vi_fgat03
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat03==complete
                task jhafs_atm_vi_fgat06
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat06==complete
                task jhafs_atm_vi_fgat09
                  complete ../launch/jhafs_launch==complete and ../launch/jhafs_launch:Analysis==clear
                  trigger ./jhafs_atm_init_fgat09==complete
              endfamily
              family analysis
                complete ./launch/jhafs_launch==complete and ./launch/jhafs_launch:Analysis==clear
                task jhafs_analysis
                  trigger ../init/jhafs_atm_vi==complete and ../init/jhafs_atm_vi_fgat03==complete and ../init/jhafs_atm_vi_fgat06==complete and ../init/jhafs_atm_vi_fgat09==complete and ../prep/jhafs_obs_prep==complete and ../launch/jhafs_launch:Analysis
                task jhafs_analysis_merge
                  trigger ./jhafs_analysis==complete
              endfamily
              family forecast
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_forecast
                  trigger ../prep==complete and ../init==complete and ../analysis==complete
              endfamily
              family post
                complete ./launch/jhafs_launch:NoStorm
                task jhafs_atm_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_ocn_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_wav_post
                  trigger ../forecast==active or ../forecast==complete
                task jhafs_product
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
                  event 1 SentTrackToNHC
                task jhafs_gempak
                  trigger ./jhafs_atm_post==active or ./jhafs_atm_post==complete
              endfamily 
            endfamily
          endfamily
        endfamily 
      endfamily          # hafs
    endfamily            # family 18
  endfamily              # primary
endsuite
